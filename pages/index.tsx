import type { NextPage } from "next";
import Head from "next/head";
import { useEffect, useRef, useState } from "react";
import Navbar from "../components/header";
import Section1 from "../components/sections/section1";
import Section2 from "../components/sections/section2";
import Section3 from "../components/sections/section3";
import Section4 from "../components/sections/section4";
import Section5 from "../components/sections/section5";
import Section6 from "../components/sections/section6";
import Section7 from "../components/sections/section7";
import Section8 from "../components/sections/section8";
import useIntersectionObserver from "../utils/interSectionHook";
import { useInView } from "react-intersection-observer";
import SnapContainer from "../components/generals/SnapContainer";
import SectionContainer from "../components/generals/SectionContainer";
import { motion, AnimatePresence, useScroll } from "framer-motion";
import {
  anim_y,
  containerSpringTransition,
  hidden_bottom,
  hidden_left,
  screenSpringTransition,
  visible_bottom,
} from "../utils/animation_variants";

const Home: NextPage = () => {
  const [black, setBlack] = useState(false);
  const ref = useRef<HTMLDivElement>(null!);
  const [onTopY, setOnTopY] = useState(false);

  return (
    <>
      <Head>
        <title>blackant</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/images/Logo.svg" />
      </Head>
      <header className="fixed w-full z-50">
        <Navbar black={black} />
      </header>
      <main>
        <motion.div
          ref={ref}
          className="h-screen w-screen relative overflow-y-scroll"
        >
          <motion.div
            className="absolute w-full h-full z-50 "
            initial={{ y: "0" }}
            animate={onTopY ? { y: "-100vh" } : { y: "0" }}
            transition={screenSpringTransition}
            variants={anim_y}
          >
            <Section1 onTopY={onTopY} setOnTopY={setOnTopY} />
          </motion.div>

          <motion.div
            className="absolute w-full h-full z-10"
            initial={{ y: "100vh" }}
            animate={onTopY ? { y: "0" } : { y: "100vh" }}
            transition={screenSpringTransition}
          >
            <Section2 onTopY={onTopY} setOnTopY={setOnTopY} />
            {/* window2 */}
          </motion.div>

          <motion.div className="absolute w-full h-full">window3</motion.div>

          <motion.div className="absolute w-full h-full">window4</motion.div>

          <motion.div className="absolute w-full h-full">window5</motion.div>
        </motion.div>

        {/* <SnapContainer ref={ref}>
          <SectionContainer full>
            <Section1 />
          </SectionContainer>

          <SectionContainer full>
            <Section2 />
          </SectionContainer>

          <SectionContainer full>
            <Section3 />
          </SectionContainer>

          <SectionContainer full>
            <Section4 />
          </SectionContainer>

          <SectionContainer full>
            <Section5 />
          </SectionContainer>

          <SectionContainer full>
            <Section6 />
          </SectionContainer>

          <SectionContainer full>
            <Section7 />
          </SectionContainer>
        </SnapContainer> */}
      </main>

      <footer>{/* <Section8 /> */}</footer>
    </>
  );
};

export default Home;
